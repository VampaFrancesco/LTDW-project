/*=================================================================
  BOXOMNIA - STYLE.CSS UNIFICATO
  Palette colori coerente e stili completi
=================================================================*/

/*---------------------------------------------------------------------
  VARIABILI GLOBALI - PALETTE BOXOMNIA
---------------------------------------------------------------------*/
:root {
    /* PALETTE PRINCIPALE */
    --primary-pink: #ED308C;        /* Rosa principale */
    --primary-blue: #24B1D9;        /* Azzurro complementare */
    --primary-orange: #f26522;      /* Arancione accent */
    --primary-dark: #30302e;        /* Grigio scuro per testi */

    /* VARIANTI TONALI */
    --pink-light: #f85aa7;          /* Rosa più chiaro */
    --pink-dark: #d12574;           /* Rosa più scuro */
    --blue-light: #4fc3e8;          /* Azzurro più chiaro */
    --blue-dark: #1a9bbf;           /* Azzurro più scuro */
    --orange-light: #ff7b3d;        /* Arancione più chiaro */
    --orange-dark: #e05c1b;         /* Arancione più scuro */

    
    /* NEUTRI */
    --white: #ffffff;
    --light-gray: #f8f9fa;
    --medium-gray: #6c757d;
    --border-gray: #e9ecef;

    /* STATI */
    --success: #28a745;
    --warning: #ffc107;
    --danger: #dc3545;
    --info: var(--primary-blue);

    /* TRASPARENZE */
    --overlay: rgba(48, 48, 46, 0.8);
    --shadow: rgba(0, 0, 0, 0.1);
    --shadow-hover: rgba(0, 0, 0, 0.2);

    /* NAVBAR */
    --navbar-bg-color: var(--primary-pink);
    --dropdown-bg-color: var(--white);
    --dropdown-text-color: #000000;
    --dropdown-hover-bg-color: var(--primary-orange);
    --border-radius: 5px;
    --text-color: var(--white);
}

/*---------------------------------------------------------------------
  RESET E BASE
---------------------------------------------------------------------*/
* {
    box-sizing: border-box !important;
    transition: ease all 0.5s;
}

html, body, main {
    scroll-behavior: smooth;
    overflow-x: hidden;
    height: auto;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Arial', sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: var(--light-gray);
}

a {
    color: var(--primary-dark);
    text-decoration: none !important;
    outline: none !important;
    -webkit-transition: all .3s ease-in-out;
    -moz-transition: all .3s ease-in-out;
    -ms-transition: all .3s ease-in-out;
    -o-transition: all .3s ease-in-out;
    transition: all .3s ease-in-out;
}

h1, h2, h3, h4, h5, h6 {
    letter-spacing: 0;
    font-weight: normal;
    position: relative;
    padding: 0 0 10px 0;
    line-height: normal;
    color: var(--primary-dark);
    margin: 0;
}

h1 { font-size: 24px; }
h2 { font-size: 22px; }
h3 { font-size: 18px; }
h4 { font-size: 16px; }
h5 { font-size: 14px; }
h6 { font-size: 13px; }

h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
    color: var(--primary-dark);
    text-decoration: none !important;
    opacity: 1;
}

button:focus {
    outline: none;
}

ul, li, ol {
    margin: 0px;
    padding: 0px;
    list-style: none;
}

p {
    margin: 20px;
    font-weight: 300;
    font-size: 15px;
    line-height: 24px;
}

img {
    max-width: 100%;
    height: auto;
}

:focus {
    outline: 0;
}

.padding_bottom_0 {
    padding-bottom: 0 !important;
}

.lead {
    font-size: 18px;
    line-height: 30px;
    color: #767676;
    margin: 0;
    padding: 0;
}

.full {
    float: left;
    width: 100%;
}

.layout_padding {
    padding-top: 90px;
    padding-bottom: 0px;
}

.padding_0 {
    padding: 0;
}

/*=================================================================
  ALERT PERSONALIZZATI
=================================================================*/
.alert-custom {
    display: flex;
    align-items: flex-start;
    padding: 16px 20px;
    margin-bottom: 20px;
    border-radius: 12px;
    border: none;
    box-shadow: 0 4px 12px var(--shadow);
    position: relative;
    animation: slideInDown 0.4s ease-out;
    font-size: 14px;
    line-height: 1.5;
    font-family: inherit;
}

.alert-custom i {
    font-size: 20px;
    margin-right: 12px;
    margin-top: 2px;
    flex-shrink: 0;
}

.alert-custom-content {
    flex: 1;
}

.alert-custom-content strong {
    display: block;
    margin-bottom: 4px;
    font-weight: 600;
}

.alert-custom-close {
    background: none;
    border: none;
    font-size: 18px;
    cursor: pointer;
    padding: 0;
    margin-left: 12px;
    opacity: 0.7;
    transition: opacity 0.2s ease;
    color: inherit;
}

.alert-custom-close:hover {
    opacity: 1;
}

/* VARIANTI COLORI ALERT */
.alert-custom-danger {
    background: linear-gradient(135deg, #fff5f5 0%, #fef2f2 100%);
    color: var(--danger);
    border-left: 4px solid var(--danger);
}

.alert-custom-success {
    background: linear-gradient(135deg, #f0fff4 0%, #ecfdf5 100%);
    color: var(--success);
    border-left: 4px solid var(--success);
}

.alert-custom-warning {
    background: linear-gradient(135deg, #fef3cd 0%, #fefce8 100%);
    color: #b45309;
    border-left: 4px solid var(--warning);
}

.alert-custom-info {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    color: var(--blue-dark);
    border-left: 4px solid var(--primary-blue);
}

/* ANIMAZIONI ALERT */
@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert-custom.fade-out {
    animation: slideOutUp 0.3s ease-in forwards;
}

@keyframes slideOutUp {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-30px);
    }
}

.alert-custom.show {
    animation: fadeInScale 0.4s ease-out;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ALERT LEGACY (per compatibilità) */
.alert {
    padding: 15px;
    margin-top: 20px;
    border-radius: 5px;
    font-weight: bold;
    text-align: center;
    border: none;
    border-radius: 8px;
    margin-bottom: 20px;
}

.alert-success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.alert-danger {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

.alert-warning {
    background-color: #fff3cd;
    border-color: #ffeaa7;
    color: #856404;
}

.alert-info {
    background-color: #d1ecf1;
    border-color: #bee5eb;
    color: #0c5460;
}

/*=================================================================
  BOTTONI UNIFICATI
=================================================================*/
.btn {
    border-radius: 8px;
    font-weight: 600;
    padding: 12px 24px;
    font-size: 16px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary-pink) 0%, var(--pink-dark) 100%) !important;
    border-color: var(--primary-pink) !important;
    color: var(--white) !important;
    box-shadow: 0 4px 12px rgba(237, 48, 140, 0.3) !important;
}

.btn-primary:hover {
    background: linear-gradient(135deg, var(--pink-light) 0%, var(--primary-pink) 100%) !important;
    border-color: var(--pink-light) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(237, 48, 140, 0.4) !important;
    color: var(--white) !important;
}

.btn-secondary {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--blue-dark) 100%) !important;
    border-color: var(--primary-blue) !important;
    color: var(--white) !important;
    box-shadow: 0 4px 12px rgba(36, 177, 217, 0.3) !important;
}

.btn-secondary:hover {
    background: linear-gradient(135deg, var(--blue-light) 0%, var(--primary-blue) 100%) !important;
    border-color: var(--blue-light) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(36, 177, 217, 0.4) !important;
    color: var(--white) !important;
}

.btn-success {
    background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%) !important;
    color: var(--white) !important;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3) !important;
}

.btn-success:hover {
    background: linear-gradient(135deg, #34ce57 0%, var(--success) 100%) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4) !important;
    color: var(--white) !important;
}

.btn-outline-primary {
    background: transparent !important;
    border: 2px solid var(--primary-pink) !important;
    color: var(--primary-pink) !important;
}

.btn-outline-primary:hover {
    background: var(--primary-pink) !important;
    border-color: var(--primary-pink) !important;
    color: var(--white) !important;
    transform: translateY(-2px);
}

.btn-outline-secondary {
    background: transparent !important;
    border: 2px solid var(--medium-gray) !important;
    color: var(--medium-gray) !important;
}

.btn-outline-secondary:hover {
    background: var(--medium-gray) !important;
    color: var(--white) !important;
    transform: translateY(-2px);
}

.btn:disabled {
    background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%) !important;
    border-color: #6c757d !important;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
    opacity: 0.8;
    color: var(--white) !important;
}

.btn:disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

/* BOTTONI SPECIFICI */
.btn-add-to-cart {
    background: linear-gradient(135deg, var(--primary-orange) 0%, var(--orange-dark) 100%);
    color: var(--white);
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 16px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
}

.btn-add-to-cart:hover {
    background: linear-gradient(135deg, var(--orange-light) 0%, var(--primary-orange) 100%);
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(242, 101, 34, 0.4);
}

.btn-add-to-cart:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-filter-nav {
    background-color: var(--primary-orange);
    color: var(--white);
    border: 1px solid var(--primary-orange);
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 15px;
    font-weight: bold;
    text-decoration: none;
    transition: all 0.3s ease;
}

.btn-filter-nav:hover,
.btn-filter-nav:focus {
    background-color: var(--orange-dark);
    color: var(--white);
    text-decoration: none;
    box-shadow: 0 2px 8px rgba(242, 101, 34, 0.5);
}

.btn-filter {
    background-color: #e0e0e0;
    color: #555;
    border: 1px solid #ccc;
    padding: 10px 20px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 15px;
    transition: all 0.3s ease;
}

.btn-filter:hover {
    background-color: #d0d0d0;
    color: #333;
}

.btn-filter.active {
    background-color: var(--primary-orange);
    color: var(--white);
    border-color: var(--primary-orange);
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(242, 101, 34, 0.3);
}

.btn-view-details {
    background: linear-gradient(135deg, var(--primary-pink) 0%, var(--pink-dark) 100%);
    color: var(--white);
    padding: 8px 15px;
    border-radius: 5px;
    font-size: 15px;
    font-weight: bold;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    margin-top: 15px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.btn-view-details:hover {
    background: linear-gradient(135deg, var(--blue-light) 0%, var(--primary-blue) 100%);
    color: var(--primary-dark);
    text-decoration: none;
    transform: translateY(-2px);
}

/*=================================================================
  FORM CONTROLS UNIFICATI
=================================================================*/
.form-control {
    border-radius: 8px;
    border: 2px solid var(--border-gray);
    padding: 12px 16px;
    font-size: 16px;
    transition: all 0.3s ease;
    background-color: var(--white);
}

.form-control:focus {
    border-color: var(--primary-pink) !important;
    box-shadow: 0 0 0 0.2rem rgba(237, 48, 140, 0.25) !important;
    outline: none;
}

.form-control:hover:not(:focus) {
    border-color: rgba(237, 48, 140, 0.5);
}

.form-control.valid {
    border-color: var(--success) !important;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='%2328a745' d='M13.854 3.646a.5.5 0 0 1 0 .708L6.207 12a.5.5 0 0 1-.708 0L2.646 9.146a.5.5 0 1 1 .708-.708L6 11.293l7.146-7.147a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    padding-right: calc(1.5em + 0.75rem);
}

.form-control.invalid {
    border-color: var(--danger) !important;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25) !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='%23dc3545' d='M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z'/%3e%3cpath fill='%23dc3545' d='M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
    padding-right: calc(1.5em + 0.75rem);
    animation: pulse-error 1s ease-out;
}

.form-label {
    font-weight: 600;
    color: var(--primary-dark);
    margin-bottom: 8px;
    font-size: 14px;
    letter-spacing: 0.5px;
}

.form-label:after {
    content: " *";
    color: var(--danger);
    font-weight: bold;
}

.form-text {
    margin-top: 5px;
}

/* NAVBAR FORM */
.navbar-form input {
    border: none !important;
}

.form-control:focus {
    border-color: var(--white) !important;
    box-shadow: 0 0 0 .2rem rgba(255, 255, 255, .25);
}

/*=================================================================
  LOGIN AVANZATO - FORM SPECIFICI
=================================================================*/
.input-container {
    position: relative;
    margin-bottom: 8px;
}

.password-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.password-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--medium-gray);
    cursor: pointer;
    font-size: 16px;
    padding: 4px 8px;
    border-radius: 4px;
    transition: all 0.3s ease;
    z-index: 5;
}

.password-toggle:hover {
    color: var(--primary-pink);
    background-color: rgba(237, 48, 140, 0.1);
}

.password-toggle:focus {
    outline: 2px solid var(--primary-pink);
    outline-offset: 2px;
}

.form-control:focus + .password-toggle {
    color: var(--primary-pink);
}

.input-feedback {
    margin-top: 6px;
    font-size: 13px;
    font-weight: 500;
    min-height: 18px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 4px;
}

.input-feedback.success {
    color: var(--success);
}

.input-feedback.error {
    color: var(--danger);
}

.input-feedback.warning {
    color: #b45309;
}

.input-feedback:empty {
    margin-top: 0;
    min-height: 0;
}

/* CAPTCHA SECURITY */
.captcha-container {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: linear-gradient(135deg, var(--light-gray) 0%, var(--border-gray) 100%);
    border-radius: 10px;
    border: 2px solid var(--border-gray);
    transition: all 0.3s ease;
}

.captcha-container:hover {
    border-color: var(--primary-pink);
    box-shadow: 0 4px 12px rgba(237, 48, 140, 0.1);
}

.captcha-question {
    font-weight: bold;
    font-size: 20px;
    color: var(--primary-dark);
    min-width: 100px;
    text-align: center;
    background: var(--white);
    padding: 10px 15px;
    border-radius: 8px;
    border: 2px solid var(--border-gray);
    font-family: 'Courier New', monospace;
}

.captcha-input {
    max-width: 100px;
    text-align: center;
    font-weight: bold;
    font-size: 18px !important;
    padding: 12px !important;
    border: 2px solid var(--border-gray) !important;
    border-radius: 8px !important;
    font-family: 'Courier New', monospace;
}

.captcha-input:focus {
    border-color: var(--primary-pink) !important;
    box-shadow: 0 0 0 0.2rem rgba(237, 48, 140, 0.25) !important;
}

/* SECURITY INDICATOR */
.security-indicator {
    text-align: center;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%);
    border-radius: 8px;
    border: 1px solid rgba(40, 167, 69, 0.2);
    transition: all 0.3s ease;
    margin-top: 15px;
}

.security-indicator.warning {
    background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%);
    border-color: rgba(255, 193, 7, 0.3);
}

.security-indicator.danger {
    background: linear-gradient(135deg, rgba(220, 53, 69, 0.1) 0%, rgba(220, 53, 69, 0.05) 100%);
    border-color: rgba(220, 53, 69, 0.3);
}

.security-indicator i {
    margin-right: 6px;
    font-size: 14px;
}

/* PROGRESS BAR (forza password) */
.password-strength .progress {
    height: 8px;
    border-radius: 4px;
    background-color: var(--border-gray);
    overflow: hidden;
    margin-bottom: 8px;
}

.password-strength .progress-bar {
    border-radius: 4px;
    transition: all 0.3s ease;
}

.password-strength .strength-text {
    font-weight: 600;
    font-size: 13px;
}

/* LOADING OVERLAY */
.loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 249, 250, 0.95) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    z-index: 1000;
    backdrop-filter: blur(3px);
}

.loading-overlay .spinner-border {
    color: var(--primary-pink);
    width: 2.5rem;
    height: 2.5rem;
    border-width: 0.3em;
}

/*=================================================================
  HEADER E NAVIGATION
=================================================================*/
.header_section_top {
    width: 100%;
    float: left;
    background-color: #2b2a29;
    clip-path: polygon(0 0, 100% 0, 96% 100%, 3% 100%);
    height: auto;
    padding: 10px 0px;
}

/* HEADER TOP */
.header-top .container {
    display: flex;
    align-items: center;
}

.header-top .logo-link {
    margin-right: 1rem;
}

.header-top .flex-fill {
    box-sizing: border-box;
}

.header-top .form-inline {
    background-color: var(--light-gray);
    height: 50px;
    line-height: 50px;
    border-radius: 10px;
    border: 0;
    padding: 0 1rem;
}

.header-top .form-inline .form-control {
    border: none;
    height: 100%;
}

.header-top .form-inline .btn {
    height: 100%;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.header-top .top-links {
    display: flex;
    align-items: center;
    margin-left: 1rem;
}

.header-top .top-links a {
    margin: 0 0.5rem;
}

/* NAVBAR CUSTOM */
.navbar-custom {
    background: linear-gradient(90deg, var(--navbar-bg-color) 0%, var(--primary-blue) 100%) !important;
    padding: 0.75rem 1rem;
    box-shadow: 0 4px 20px rgba(237, 48, 140, 0.3);
    backdrop-filter: blur(10px);
}

.nav-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.nav-item {
    margin: 0 1rem;
    position: relative;
}

.nav-item a {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    font-family: inherit;
    color: var(--text-color) !important;
    font-size: 0.875rem;
    transition: all 0.3s ease;
}

.nav-item a:hover {
    transform: translateY(-3px);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.nav-item a i {
    font-size: 1.5rem;
    margin-bottom: 0.25rem;
}

.nav-item a:hover span {
    text-decoration: underline;
}

/* DROPDOWN */
.nav-item.dropdown .dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--dropdown-bg-color);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    list-style: none;
    padding: 20px;
    margin: 0;
    margin-top: -20px;
    min-width: 150px;
    z-index: 1000;
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
}

.nav-item.dropdown:hover .dropdown-menu {
    display: block;
    visibility: visible;
    opacity: 1;
}

.dropdown-item {
    display: block;
    padding: 20px 25px;
    text-decoration: none;
    color: #000000 !important;
    white-space: nowrap;
    text-align: left;
    transition: background-color 0.2s ease-in-out;
}

.dropdown-item:hover {
    background-color: var(--dropdown-hover-bg-color);
    color: rgb(0, 0, 0);
}

.nav-item.dropdown > a {
    padding: 20px 25px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
    z-index: 1;
}

/* SIDENAV */
.sidenav {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: #111;
    overflow-x: hidden;
    transition: 0.5s;
    padding-top: 60px;
}

.sidenav a {
    padding: 8px 8px 8px 32px;
    text-decoration: none;
    font-size: 20px;
    color: var(--white);
    display: block;
    transition: 0.3s;
}

/*=================================================================
  BACKGROUND E LAYOUT
=================================================================*/
.background-custom {
    background-image: url("/images/sfondo2.jpg");
    min-height: 100vh;
    position: relative;
    padding-top: 1.5rem !important;
    background-size: cover;
    background-repeat: repeat;
    background-position: center;
}

.background-custom::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
            radial-gradient(circle at 20% 80%, rgba(237, 48, 140, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(36, 177, 217, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 40% 40%, rgba(242, 101, 34, 0.05) 0%, transparent 50%) !important;
    pointer-events: none;
    z-index: -1;
}

.header .background-custom {
    padding-top: 1.5rem !important;
    background-image: url('../images/sfondo2.jpg');
    background-size: cover;
    background-repeat: repeat;
    background-position: center;
}

.section {
    padding: 2rem;
    border-radius: 8px;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 15px;
}

.margin_top90 {
    margin-top: 90px;
}

/*=================================================================
  CONTAINERS UNIFICATI
=================================================================*/
.login-container,
.register-container {
    background: linear-gradient(135deg, var(--white) 0%, var(--light-gray) 100%) !important;
    border-radius: 20px;
    box-shadow: 0 10px 40px var(--shadow);
    border: 1px solid var(--border-gray);
    backdrop-filter: blur(10px);
    width: 100%;
    max-width: 450px;
    margin: 30px auto;
    padding: 30px;
    text-align: center;
    font-family: 'Poppins', sans-serif;
}

.login-container {
    max-width: 400px;
    margin: 50px auto;
}

.login-container h2,
.register-container h2 {
    color: var(--primary-dark) !important;
    font-weight: 700;
    margin-bottom: 30px;
    font-size: 28px;
}

.login-container .form-group,
.register-container .form-group {
    margin-bottom: 20px;
    text-align: left;
}

.login-container input[type="email"],
.login-container input[type="password"],
.register-container input[type="text"],
.register-container input[type="email"],
.register-container input[type="password"] {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
    background-color: var(--light-gray);
    transition: border 0.3s ease;
}

.login-container input[type="email"]:focus,
.login-container input[type="password"]:focus,
.register-container input[type="text"]:focus,
.register-container input[type="email"]:focus,
.register-container input[type="password"]:focus {
    border-color: var(--primary-pink);
    outline: none;
}

.login-container p,
.register-container p {
    margin-top: 20px;
    font-size: 14px;
    color: #666666;
}

.login-container p a,
.register-container p a {
    color: var(--primary-pink) !important;
    font-weight: 600;
    transition: color 0.3s ease;
    border-bottom: 1px solid transparent;
}

.login-container p a:hover,
.register-container p a:hover {
    color: var(--pink-dark) !important;
    border-bottom-color: var(--pink-dark);
    text-decoration: none;
}

/*=================================================================
  TITOLI E TYPOGRAPHY
=================================================================*/
.fashion_taital {
    font-size: 48px;
    color: var(--primary-dark);
    font-weight: bold;
    text-align: center;
    text-transform: uppercase;
    margin-bottom: 40px;
    position: relative;
    padding-bottom: 15px;
}

.fashion_taital::after {
    content: '';
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 80px;
    height: 4px;
    background-color: var(--primary-dark);
    border-radius: 2px;
}

.category-title {
    font-size: 30px;
    color: var(--primary-dark);
    font-weight: bold;
    text-align: center;
    border-bottom: 2px solid var(--white);
    padding-bottom: 10px;
    margin-bottom: 40px;
}

/*=================================================================
  COLLEZIONE E FILTRI
=================================================================*/
.collection-page .fashion_taital {
    margin-top: 30px;
    font-size: 38px;
    color: var(--primary-dark);
}

.collection-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
}

.category-nav-filter-container {
    display: flex;-- phpMyAdmin SQL Dump
-- Database BoxOmnia Unificato
-- Versione unificata che combina le strutture e dati di entrambi i database
-- Data creazione: Agosto 10, 2025

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
    START TRANSACTION;
    SET time_zone = "+00:00";

    /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
    /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
    /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
    /*!40101 SET NAMES utf8mb4 */;

    --
    -- Database: `boxomnia`
--

DELIMITER $$
--
-- Procedure
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `pulisci_carrelli_abbandonati` (IN `giorni` INT)   BEGIN
UPDATE carrello
SET stato = 'abbandonato'
WHERE stato = 'attivo'
AND data_ultima_modifica < DATE_SUB(NOW(), INTERVAL giorni DAY)
AND id_carrello NOT IN (
SELECT fk_carrello FROM ordine WHERE fk_carrello IS NOT NULL
);

    SELECT ROW_COUNT() as carrelli_aggiornati;
    END$$

    CREATE DEFINER=`root`@`localhost` PROCEDURE `report_vendite` (IN `data_inizio` DATE, IN `data_fine` DATE)   BEGIN
SELECT
DATE(o.data_ordine) as data,
COUNT(DISTINCT o.id_ordine) as numero_ordini,
COUNT(DISTINCT o.fk_utente) as clienti_unici,
SUM(c.quantita) as articoli_venduti,
SUM(c.totale) as fatturato_totale,
AVG(c.totale) as valore_medio_ordine
FROM ordine o
LEFT JOIN carrello c ON o.fk_carrello = c.id_carrello
WHERE DATE(o.data_ordine) BETWEEN data_inizio AND data_fine
AND o.stato_ordine NOT IN (3, 4) -- Escludi annullati e rimborsati
GROUP BY DATE(o.data_ordine)
ORDER BY data DESC;
    END$$

    DELIMITER ;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `admin`
    --

    CREATE TABLE `admin` (
    `id_admin` int NOT NULL,
    `fk_utente` int NOT NULL,
    `livello_admin` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'admin',
    `data_creazione` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `creato_da` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `admin`
    --

    INSERT INTO `admin` (`id_admin`, `fk_utente`, `livello_admin`, `data_creazione`, `creato_da`) VALUES
(2, 2, 'super_admin', '2025-08-06 17:11:58', 2),
(3, 6, 'super_admin', '2025-08-06 17:33:24', NULL);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `box_oggetto`
    --

    CREATE TABLE `box_oggetto` (
    `fk_box` int NOT NULL,
    `fk_oggetto` int NOT NULL,
    `probabilita` float NOT NULL,
    `quantita_min` int NOT NULL DEFAULT 1,
    `quantita_max` int NOT NULL DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `box_oggetto`
    --

    INSERT INTO `box_oggetto` (`fk_box`, `fk_oggetto`, `probabilita`, `quantita_min`, `quantita_max`) VALUES
(2, 27, 0.30, 1, 2);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `carrello`
    --

    CREATE TABLE `carrello` (
    `id_carrello` int NOT NULL,
    `totale` decimal(10,2) NOT NULL DEFAULT '0.00',
    `fk_utente` int NOT NULL,
    `data_creazione` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `data_ultima_modifica` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `quantita` bigint NOT NULL,
    `stato` enum('attivo','checkout','completato','abbandonato') COLLATE utf8mb4_unicode_ci DEFAULT 'attivo',
    `fk_mystery_box` int DEFAULT NULL,
    `fk_oggetto` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Trigger `carrello`
    --
    DELIMITER $$
CREATE TRIGGER `carrello_before_update` BEFORE UPDATE ON `carrello` FOR EACH ROW BEGIN
SET NEW.data_ultima_modifica = NOW();
    END
    $$
    DELIMITER ;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `carrello_salvato`
    --

    CREATE TABLE `carrello_salvato` (
    `id_salvato` int NOT NULL,
    `fk_utente` int NOT NULL,
    `fk_mystery_box` int DEFAULT NULL,
    `fk_oggetto` int DEFAULT NULL,
    `quantita` int NOT NULL DEFAULT '1',
    `data_aggiunta` datetime DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `carrello_utente`
    --

    CREATE TABLE `carrello_utente` (
    `fk_carrello` int NOT NULL,
    `fk_utente` int NOT NULL,
    `quantita` int NOT NULL DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `categoria_oggetto`
    --

    CREATE TABLE `categoria_oggetto` (
    `id_categoria` int NOT NULL,
    `nome_categoria` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `tipo_oggetto` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `categoria_oggetto`
    --

    INSERT INTO `categoria_oggetto` (`id_categoria`, `nome_categoria`, `tipo_oggetto`) VALUES
(1, 'Yu-Gi-Oh!', 'Carta Singola'),
(2, 'Pokémon', 'Carta Singola'),
(3, 'Universale', 'Proteggicarte'),
(4, 'Universale', 'Plance di gioco'),
(5, 'Universale', 'Scatole porta carte'),
(6, 'Universale', 'Porta mazzi'),
(7, 'Pokémon', 'Mystery Box'),
(8, 'Yu-Gi-Oh!', 'Mystery Box'),
(9, 'Pokémon', 'Funko Pop'),
(10, 'Yu-Gi-Oh!', 'Funko Pop'),
(11, 'Pokémon', 'Bustina Singola - Astri Lucenti');

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `classifica`
    --

    CREATE TABLE `classifica` (
    `id_classifica` int NOT NULL,
    `nome_classifica` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `tipo_classifica` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `desc_classifica` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `fattura`
    --

    CREATE TABLE `fattura` (
    `id_fattura` int NOT NULL,
    `tipo` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `totale_fattura` decimal(10,2) NOT NULL,
    `data_emissione` datetime NOT NULL,
    `fk_utente` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `immagine`
    --

    CREATE TABLE `immagine` (
    `id_immagine` int NOT NULL,
    `nome_img` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `descrizione_img` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `dimensione` int DEFAULT NULL,
    `fk_oggetto` int DEFAULT NULL,
    `fk_mystery_box` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `immagine`
    --

    INSERT INTO `immagine` (`id_immagine`, `nome_img`, `descrizione_img`, `dimensione`, `fk_oggetto`, `fk_mystery_box`) VALUES
(1, 'mago_nero.jpg', NULL, NULL, 1, NULL),
(2, 'plancia_arancione.png', NULL, NULL, 3, NULL),
(4, 'plancia_rosa.png', NULL, NULL, 4, NULL),
(5, 'plancia_viola.png', NULL, NULL, 5, NULL),
(6, 'plancia_verdeacqua.png', NULL, NULL, 6, NULL),
(7, 'proteggicarte_rosa.png', NULL, NULL, 7, NULL),
(8, 'proteggicarte_bluchiaro.png', NULL, NULL, 8, NULL),
(9, 'proteggicarte_rosso.png', NULL, NULL, 9, NULL),
(10, 'proteggicarte_bianco.png', NULL, NULL, 10, NULL),
(11, 'scatola_rosa.png', NULL, NULL, 17, NULL),
(12, 'scatola_verde.png', NULL, NULL, 12, NULL),
(13, 'scatola_blu.png', NULL, NULL, 14, NULL),
(14, 'scatola_rossa.png', NULL, NULL, 13, NULL),
(15, 'scatola_arancione.png', NULL, NULL, 11, NULL),
(16, 'scatola_oro.png', NULL, NULL, 15, NULL),
(17, 'scatola_argento.png', NULL, NULL, 16, NULL),
(18, 'scatola_marrone.png', NULL, NULL, 18, NULL),
(19, 'deckbox_giallo.png', NULL, NULL, 25, NULL),
(20, 'deckbox_verde.png', NULL, NULL, 23, NULL),
(21, 'deckbox_nero.png', NULL, NULL, 24, NULL),
(22, 'deckbox_viola.png', NULL, NULL, 19, NULL),
(23, 'deckbox_arancione.png', NULL, NULL, 20, NULL),
(24, 'deckbox_bianco.png', NULL, NULL, 21, NULL),
(25, 'deckbox_blu.png', NULL, NULL, 22, NULL),
(26, 'deckbox_rosa.png', NULL, NULL, 26, NULL),
(47, 'funko_umbreon.png', NULL, NULL, 28, NULL),
(48, 'funko_pikachu.png', NULL, NULL, 29, NULL),
(49, 'funko_charizard.png', NULL, NULL, 30, NULL),
(50, 'funko_mewtwo.png', NULL, NULL, 31, NULL),
(51, 'funko_dragonite.png', NULL, NULL, 32, NULL),
(52, 'funko_lucario.png', NULL, NULL, 33, NULL),
(53, 'funko_greninja.png', NULL, NULL, 34, NULL),
(54, 'funko_gengar.png', NULL, NULL, 35, NULL),
(55, 'funko_espeon.png', NULL, NULL, 36, NULL),
(56, 'funko_gardevoir.png', NULL, NULL, 37, NULL),
(57, 'funko_luxray.png', NULL, NULL, 38, NULL),
(58, 'funko_alakazam.png', NULL, NULL, 39, NULL),
(59, 'funko_sylveon.png', NULL, NULL, 40, NULL),
(60, 'funko_horsea.png', NULL, NULL, 41, NULL),
(61, 'funko_blaziken.png', NULL, NULL, 42, NULL),
(62, 'funko_chimchar.png', NULL, NULL, 43, NULL),
(63, 'funko_oshawott.png', NULL, NULL, 44, NULL),
(64, 'funko_piplup.png', NULL, NULL, 45, NULL),
(65, 'funko_sprigatito.png', NULL, NULL, 46, NULL),
(66, 'funko_zorua.png', NULL, NULL, 47, NULL);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `indirizzo_spedizione`
    --

    CREATE TABLE `indirizzo_spedizione` (
    `id_indirizzo` int NOT NULL,
    `via` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `civico` bigint NOT NULL,
    `cap` bigint NOT NULL,
    `citta` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `nazione` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `provincia` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `fk_utente` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `indirizzo_spedizione`
    --

    INSERT INTO `indirizzo_spedizione` (`id_indirizzo`, `via`, `civico`, `cap`, `citta`, `nazione`, `provincia`, `fk_utente`) VALUES
(1, 'Ticino', 4, 64028, 'Silvi', 'Italia', 'Teramo', 1);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `info_ordine`
    --

    CREATE TABLE `info_ordine` (
    `fk_ordine` int NOT NULL,
    `fk_box` int NOT NULL,
    `quantita_ordine` int NOT NULL,
    `totale_ordine` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `info_ordine`
    --

    INSERT INTO `info_ordine` (`fk_ordine`, `fk_box`, `quantita_ordine`, `totale_ordine`) VALUES
(2, 2, 1, 20.00),
(3, 2, 2, 40.00);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `mystery_box`
    --

    CREATE TABLE `mystery_box` (
    `id_box` int NOT NULL,
    `nome_box` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `desc_box` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `prezzo_box` decimal(10,2) NOT NULL,
    `quantita_box` int NOT NULL,
    `fk_rarita` int NOT NULL,
    `fk_categoria_oggetto` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `mystery_box`
    --

    INSERT INTO `mystery_box` (`id_box`, `nome_box`, `desc_box`, `prezzo_box`, `quantita_box`, `fk_rarita`, `fk_categoria_oggetto`) VALUES
(2, 'PokéBox - Rara', 'Mystery Box che potrebbe contenere carte singole, bustine e/o starter pack di rarità: rara', 20.00, 2, 2, 7);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `novita_box`
    --

    CREATE TABLE `novita_box` (
    `fk_box` int NOT NULL,
    `data_novita` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `oggetto`
    --

    CREATE TABLE `oggetto` (
    `id_oggetto` int NOT NULL,
    `nome_oggetto` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `desc_oggetto` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `prezzo_oggetto` decimal(10,2) DEFAULT NULL,
    `quant_oggetto` int DEFAULT NULL,
    `fk_categoria_oggetto` int NOT NULL,
    `fk_rarita` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `oggetto`
    --

    INSERT INTO `oggetto` (`id_oggetto`, `nome_oggetto`, `desc_oggetto`, `prezzo_oggetto`, `quant_oggetto`, `fk_categoria_oggetto`, `fk_rarita`) VALUES
(1, 'Mago Nero', 'Mostro di tipo Incantesimo', NULL, NULL, 1, 3),
(2, 'Pikachu', 'Pokémon di tipo Elettro', NULL, NULL, 2, 1),
(3, 'Plancia di gioco Arancione', 'Tappetino universale per giochi di carte collezionabili, realizzato in neoprene resistente con base antiscivolo.\nDimensione: 60x35cm', 14.99, 5, 4, NULL),
(4, 'Plancia di gioco Rosa', 'Tappetino universale per giochi di carte collezionabili, realizzato in neoprene resistente con base antiscivolo.\nDimensione: 60x35cm', 14.50, 5, 4, NULL),
(5, 'Plancia di gioco Viola', 'Tappetino universale per giochi di carte collezionabili, realizzato in neoprene resistente con base antiscivolo.\nDimensione: 60x35cm', 14.99, 5, 4, NULL),
(6, 'Plancia di gioco Verdeacqua', 'Tappetino universale per giochi di carte collezionabili, realizzato in neoprene resistente con base antiscivolo.\nDimensione: 60x35cm', 14.99, 5, 4, NULL),
(7, 'Proteggicarte Rosa', 'Pacchetto proteggicarte da 60 bustine.\nDimensione bustine: 62x89mm', 3.00, 5, 3, NULL),
(8, 'Proteggicarte Blu chiaro', 'Pacchetto proteggicarte da 60 bustine.\nDimensione bustine: 62x89mm', 4.00, 5, 3, NULL),
(9, 'Proteggicarte Rosso', 'Pacchetto proteggicarte da 60 bustine.\nDimensione bustine: 62x89mm', 3.50, 5, 3, NULL),
(10, 'Proteggicarte Bianco', 'Pacchetto proteggicarte da 60 bustine.\nDimensione bustine: 62x89mm', 4.50, 5, 3, NULL),
(11, 'Scatola porta carte Arancione', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 3.50, 5, 5, NULL),
(12, 'Scatola porta carte Verde', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 3.50, 5, 5, NULL),
(13, 'Scatola porta carte Rossa', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 3.50, 5, 5, NULL),
(14, 'Scatola porta carte Blu', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 3.50, 5, 5, NULL),
(15, 'Scatola porta carte Oro', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 5.00, 5, 5, NULL),
(16, 'Scatola porta carte Argento', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 4.00, 5, 5, NULL),
(17, 'Scatola porta carte Rosa', 'Scatola porta carte a incastro con capienza di 100 carte e bustine', 3.00, 5, 5, NULL),
(18, 'Scatola porta carte Marrone', 'Scatola porta carte a 4 scomparti con capienza di 300 carte e bustine', 9.50, 5, 5, NULL),
(19, 'Porta mazzo Viola', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.00, 5, 6, NULL),
(20, 'Porta mazzo Arancione', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.00, 5, 6, NULL),
(21, 'Porta mazzo Bianco', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 4.00, 5, 6, NULL),
(22, 'Porta mazzo Blu chiaro', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.00, 5, 6, NULL),
(23, 'Porta mazzo Verde', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.00, 5, 6, NULL),
(24, 'Porta mazzo Nero', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 4.00, 5, 6, NULL),
(25, 'Porta mazzo Giallo', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.50, 5, 6, NULL),
(26, 'Porta mazzo Rosa', 'Porta mazzo universale in plastica rigida, con capienza fino a 75 carte con bustine protettive. Protezione da polvere e piegature', 3.00, 5, 6, NULL),
(27, 'Bustina Singola - Astri Lucenti', 'Bustina Pokémon della serie Astri Lucenti', NULL, NULL, 11, NULL),
(28, 'Funko POP: Umbreon', 'Funko POP da collezione di Umbreon, elegante Pokémon di tipo Buio, famoso per il suo manto nero e gli anelli luminescenti che brillano nella notte. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(29, 'Funko POP: Pikachu', 'Funko POP da collezione di Pikachu, l\'iconico Pokémon di tipo Elettro, amato per la sua energia travolgente e il sorriso inconfondibile. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(30, 'Funko POP: Charizard', 'Funko POP da collezione di Charizard, potente Pokémon di tipo Fuoco/Volante, temuto per le sue fiamme intense e il volo maestoso. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(31, 'Funko POP: Mewtwo', 'Funko POP da collezione di Mewtwo, leggendario Pokémon Psico, creato in laboratorio e dotato di poteri mentali straordinari.Dimensione: 9,5cm', 16.00, 5, 9, NULL),
(32, 'Funko POP: Dragonite', 'Funko POP da collezione di Dragonite, maestoso Pokémon Drago/Volante, noto per la sua forza impressionante e il cuore gentile. Dimensione: 9,5cm', 16.00, 5, 9, NULL),
(33, 'Funko POP: Lucario', 'Funko POP da collezione di Lucario, fiero Pokémon Lotta/Acciaio, capace di percepire e controllare le aure con incredibile maestria. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(34, 'Funko POP: Greninja', 'Funko POP da collezione di Greninja, agile Pokémon Acqua/Buio, famoso per la sua velocità fulminea e lo stile di combattimento furtivo. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(35, 'Funko POP: Gengar', 'Funko POP da collezione di Gengar, enigmatico Pokémon Spettro/Veleno, celebre per i suoi scherzi inquietanti e il sorriso sinistro. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(36, 'Funko POP: Espeon', 'Funko POP da collezione di Espeon, elegante Pokémon Psico, apprezzato per la sua grazia e le abilità predittive straordinarie. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(37, 'Funko POP: Gardevoir', 'Funko POP da collezione di Gardevoir, Pokémon di tipo Psichico/Folletto, noto per la sua grazia e capacità di proteggere il proprio allenatore con poteri psichici potenti. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(38, 'Funko POP: Luxray', 'Funko POP da collezione di Luxray, Pokémon di tipo Elettro, simile a una grossa tigre dai occhi penetranti, famoso per la sua vista acutissima e la forza elettrica che usa in battaglia. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(39, 'Funko POP: Alakazam', 'Funko POP da collezione di Alakazam, Pokémon di tipo Psichico, famoso per il suo intelletto straordinario e i potenti poteri psichici, rappresentato con cucchiai per amplificare la telecinesi. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(40, 'Funko POP: Sylveon', 'Funko POP da collezione di Sylveon, Pokémon di tipo Folletto, noto per il suo aspetto dolce e i nastri che usa per calmare e proteggere gli altri con poteri magici. Dimensione: 9,5cm', 15.50, 5, 9, NULL),
(41, 'Funko POP: Horsea', 'Funko POP da collezione di Horsea, Pokémon di tipo Acqua, simile a un piccolo cavalluccio marino, agile e capace di spruzzare getti d\'acqua ad alta pressione per difendersi. Dimensione: 9,5cm', 14.50, 5, 9, NULL),
(42, 'Funko POP: Blaziken', 'Funko POP da collezione di Blaziken, Pokémon di tipo Fuoco/Lotta, famoso per la sua forza esplosiva e le potenti tecniche di arti marziali che combina con fiamme avvolgenti. Dimensione: 9,5cm', 14.99, 5, 9, NULL),
(43, 'Funko POP: Chimchar', 'Funko POP da collezione di Chimchar, Pokémon di tipo Fuoco, noto per la sua coda fiammeggiante e il carattere energico e curioso. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(44, 'Funko POP: Oshawott', 'Funko POP da collezione di Oshawott, Pokémon di tipo Acqua, noto per il suo guscio a forma di conchiglia che usa come arma e per il suo spirito coraggioso. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(45, 'Funko POP: Piplup', 'Funko POP da collezione di Piplup, Pokémon di tipo Acqua, noto per il suo carattere orgoglioso e il coraggio nonostante la sua taglia ridotta. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(46, 'Funko POP: Sprigatito', 'Funko POP da collezione di Sprigatito, Pokémon di tipo Erba, noto per il suo atteggiamento curioso e affettuoso. Dimensione: 9,5cm', 15.00, 5, 9, NULL),
(47, 'Funko POP: Zorua', 'Funko POP da collezione di Zorua, Pokémon di tipo Buio, noto per la sua abilità nel creare illusioni e trasformarsi per ingannare i nemici. Dimensione: 9,5cm', 15.50, 5, 9, NULL);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `oggetto_collezione`
    --

    CREATE TABLE `oggetto_collezione` (
    `fk_oggetto` int NOT NULL,
    `numero_carta` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `valore_stimato` decimal(10,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `oggetto_collezione`
    --

    INSERT INTO `oggetto_collezione` (`fk_oggetto`, `numero_carta`, `valore_stimato`) VALUES
(1, 'YGO-001', 10.00),
(2, 'POK-001', 1.00);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `oggetto_utente`
    --

    CREATE TABLE `oggetto_utente` (
    `fk_utente` int NOT NULL,
    `fk_oggetto` int NOT NULL,
    `quantita_ogg` int NOT NULL DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `oggetto_utente`
    --

    INSERT INTO `oggetto_utente` (`fk_utente`, `fk_oggetto`, `quantita_ogg`) VALUES
(1, 1, 3),
(1, 2, 3),
(2, 1, 1),
(2, 2, 1);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `ordine`
    --

    CREATE TABLE `ordine` (
    `id_ordine` int NOT NULL,
    `data_ordine` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `tracking` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `stato_ordine` tinyint(1) NOT NULL,
    `fk_utente` int NOT NULL,
    `fk_indirizzo` int NOT NULL,
    `fk_carrello` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `ordine`
    --

    INSERT INTO `ordine` (`id_ordine`, `data_ordine`, `tracking`, `stato_ordine`, `fk_utente`, `fk_indirizzo`, `fk_carrello`) VALUES
(2, '2025-08-10 17:45:30', 'ciaoèiltrackingquesto', 2, 1, 1, NULL),
(3, '2025-08-10 17:56:37', '-', 4, 1, 1, NULL);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `ordine_log`
    --

    CREATE TABLE `ordine_log` (
    `id_log` int NOT NULL,
    `fk_ordine` int NOT NULL,
    `stato_precedente` tinyint(1) DEFAULT NULL,
    `stato_nuovo` tinyint(1) NOT NULL,
    `note` text COLLATE utf8mb4_unicode_ci,
    `modificato_da` int DEFAULT NULL,
    `data_modifica` datetime DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `ordine_log`
    --

    INSERT INTO `ordine_log` (`id_log`, `fk_ordine`, `stato_precedente`, `stato_nuovo`, `note`, `modificato_da`, `data_modifica`) VALUES
(1, 2, 0, 1, '', NULL, '2025-08-10 17:46:50'),
(2, 2, 1, 2, '', NULL, '2025-08-10 17:54:40'),
(3, 3, 0, 4, '', NULL, '2025-08-10 17:57:30');

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `punti_utente`
    --

    CREATE TABLE `punti_utente` (
    `id_punti` int NOT NULL,
    `punti` int NOT NULL DEFAULT '0',
    `livello` int NOT NULL DEFAULT '0',
    `fk_utente` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `rarita`
    --

    CREATE TABLE `rarita` (
    `id_rarita` int NOT NULL,
    `nome_rarita` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `colore` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `ordine` int DEFAULT NULL,
    `probabilita` float DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `rarita`
    --

    INSERT INTO `rarita` (`id_rarita`, `nome_rarita`, `colore`, `ordine`, `probabilita`) VALUES
(1, 'Comune', '#008000', 1, NULL),
(2, 'Rara', '#87CEEB', 2, NULL),
(3, 'Ultra Rara', '#000000', 3, NULL),
(4, 'Epica', '#A020F0', 4, NULL),
(5, 'Mitica', '#FF0000', 5, NULL),
(6, 'Leggendaria', '#FFD700', 6, NULL);

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `scambio`
    --

    CREATE TABLE `scambio` (
    `id_scambio` int NOT NULL,
    `data_scambio` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `stato_scambio` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `fk_utente` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `scambio_oggetto`
    --

    CREATE TABLE `scambio_oggetto` (
    `fk_scambio` int NOT NULL,
    `fk_oggetto` int NOT NULL,
    `da_utente` tinyint(1) NOT NULL,
    `quantita_scambio` int NOT NULL DEFAULT '1'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `titolo`
    --

    CREATE TABLE `titolo` (
    `id_titolo` int NOT NULL,
    `nome_titolo` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `descrizione_titolo` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `titolo_utente`
    --

    CREATE TABLE `titolo_utente` (
    `fk_titolo` int NOT NULL,
    `fk_utente` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    -- --------------------------------------------------------

    --
    -- Struttura della tabella `utente`
    --

    CREATE TABLE `utente` (
    `id_utente` int NOT NULL,
    `nome` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `cognome` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `email` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
    `telefono` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `password` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

    --
    -- Dump dei dati per la tabella `utente`
    --

    INSERT INTO `utente` (`id_utente`, `nome`, `cognome`, `email`, `telefono`, `password`) VALUES
(1, 'Davide', 'Blasioli', 'db@gmail.com', NULL, '$2y$10$GcEqvT2f6DNgRx39AKAfxOZhHVhPsHfu827tVcun2E7DT38XL4H4K'),
(2, 'Francesco', 'Vampa', 'fv@boxomnia.it', NULL, '$2y$10$NXPIRLr5x50X6Do73ySyNuX/JkeMiGkfM2r24MPkovCvCV64WfRWi'),
(6, 'Admin', 'Box Omnia', 'admin@boxomnia.it', NULL, '$2y$10$GcEqvT2f6DNgRx39AKAfxOZhHVhPsHfu827tVcun2E7DT38XL4H4K');

    -- --------------------------------------------------------

    --
    -- Struttura stand-in per le viste `vista_ordini_completi`
    -- (Vedi sotto per la vista effettiva)
--
CREATE TABLE `vista_ordini_completi` (
`cliente_email` varchar(100)
,`cliente_nome` varchar(201)
,`cliente_telefono` varchar(20)
,`data_ordine` datetime
,`id_ordine` int
,`id_utente` int
,`indirizzo_completo` varchar(351)
,`nazione` varchar(100)
,`quantita_articoli` bigint
,`stato_carrello` enum('attivo','checkout','completato','abbandonato')
,`stato_nome` varchar(15)
,`stato_ordine` tinyint(1)
,`totale_ordine` decimal(10,2)
,`tracking` varchar(100)
);

    -- --------------------------------------------------------

    --
    -- Struttura stand-in per le viste `vista_statistiche_dashboard`
    -- (Vedi sotto per la vista effettiva)
--
CREATE TABLE `vista_statistiche_dashboard` (
`carrelli_attivi` bigint
,`fatturato_mese` decimal(32,2)
,`mystery_box_disponibili` bigint
,`oggetti_disponibili` bigint
,`ordini_in_elaborazione` bigint
,`ordini_oggi` bigint
,`utenti_totali` bigint
,`valore_carrelli_attivi` decimal(32,2)
);

    -- --------------------------------------------------------

    --
    -- Struttura per vista `vista_ordini_completi`
    --
    DROP TABLE IF EXISTS `vista_ordini_completi`;

    CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vista_ordini_completi`  AS SELECT `o`.`id_ordine` AS `id_ordine`, `o`.`data_ordine` AS `data_ordine`, `o`.`tracking` AS `tracking`, `o`.`stato_ordine` AS `stato_ordine`, (case when (`o`.`stato_ordine` = 0) then 'In elaborazione' when (`o`.`stato_ordine` = 1) then 'Spedito' when (`o`.`stato_ordine` = 2) then 'Consegnato' when (`o`.`stato_ordine` = 3) then 'Annullato' when (`o`.`stato_ordine` = 4) then 'Rimborsato' else 'Sconosciuto' end) AS `stato_nome`, `u`.`id_utente` AS `id_utente`, concat(`u`.`nome`,' ',`u`.`cognome`) AS `cliente_nome`, `u`.`email` AS `cliente_email`, `u`.`telefono` AS `cliente_telefono`, `c`.`totale` AS `totale_ordine`, `c`.`quantita` AS `quantita_articoli`, `c`.`stato` AS `stato_carrello`, concat('Via ',`i`.`via`,' ',`i`.`civico`,', ',`i`.`cap`,' ',`i`.`citta`,' (',`i`.`provincia`,')') AS `indirizzo_completo`, `i`.`nazione` AS `nazione` FROM (((`ordine` `o` join `utente` `u` on((`o`.`fk_utente` = `u`.`id_utente`))) left join `carrello` `c` on((`o`.`fk_carrello` = `c`.`id_carrello`))) join `indirizzo_spedizione` `i` on((`o`.`fk_indirizzo` = `i`.`id_indirizzo`))) ;

    -- --------------------------------------------------------

    --
    -- Struttura per vista `vista_statistiche_dashboard`
    --
    DROP TABLE IF EXISTS `vista_statistiche_dashboard`;

    CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vista_statistiche_dashboard`  AS SELECT (select count(0) from `utente`) AS `utenti_totali`, (select count(0) from `ordine` where (cast(`ordine`.`data_ordine` as date) = curdate())) AS `ordini_oggi`, (select count(0) from `ordine` where (`ordine`.`stato_ordine` = 0)) AS `ordini_in_elaborazione`, (select ifnull(sum(`c`.`totale`),0) from (`ordine` `o` left join `carrello` `c` on((`o`.`fk_carrello` = `c`.`id_carrello`))) where (date_format(`o`.`data_ordine`,'%Y-%m') = date_format(now(),'%Y-%m'))) AS `fatturato_mese`, (select count(0) from `carrello` where (`carrello`.`stato` = 'attivo')) AS `carrelli_attivi`, (select ifnull(sum(`carrello`.`totale`),0) from `carrello` where (`carrello`.`stato` = 'attivo')) AS `valore_carrelli_attivi`, (select count(0) from `mystery_box` where (`mystery_box`.`quantita_box` > 0)) AS `mystery_box_disponibili`, (select count(0) from `oggetto` where ((`oggetto`.`quant_oggetto` > 0) or (`oggetto`.`quant_oggetto` is null))) AS `oggetti_disponibili` ;

    --
    -- Indici per le tabelle scaricate
    --

    --
    -- Indici per le tabelle `admin`
    --
    ALTER TABLE `admin`
    ADD PRIMARY KEY (`id_admin`),
ADD UNIQUE KEY `fk_utente_unique` (`fk_utente`),
ADD KEY `fk_utente_admin` (`fk_utente`),
ADD KEY `fk_creato_da_admin` (`creato_da`);

    --
    -- Indici per le tabelle `box_oggetto`
    --
    ALTER TABLE `box_oggetto`
    ADD PRIMARY KEY (`fk_box`,`fk_oggetto`),
ADD KEY `fk_oggetto_box_oggetto` (`fk_oggetto`);

    --
    -- Indici per le tabelle `carrello`
    --
    ALTER TABLE `carrello`
    ADD PRIMARY KEY (`id_carrello`),
ADD KEY `fk_utente_carrello` (`fk_utente`),
ADD KEY `fk_mystery_box_carrello` (`fk_mystery_box`),
ADD KEY `fk_oggetto_carrello` (`fk_oggetto`),
ADD KEY `idx_utente_stato` (`fk_utente`,`stato`);

    --
    -- Indici per le tabelle `carrello_salvato`
    --
    ALTER TABLE `carrello_salvato`
    ADD PRIMARY KEY (`id_salvato`),
ADD KEY `fk_utente_salvato` (`fk_utente`),
ADD KEY `fk_mystery_box_salvato` (`fk_mystery_box`),
ADD KEY `fk_oggetto_salvato` (`fk_oggetto`);

    --
    -- Indici per le tabelle `carrello_utente`
    --
    ALTER TABLE `carrello_utente`
    ADD PRIMARY KEY (`fk_carrello`,`fk_utente`) USING BTREE,
ADD KEY `fk_mystery_box` (`fk_utente`);

    --
    -- Indici per le tabelle `categoria_oggetto`
    --
    ALTER TABLE `categoria_oggetto`
    ADD PRIMARY KEY (`id_categoria`);

    --
    -- Indici per le tabelle `classifica`
    --
    ALTER TABLE `classifica`
    ADD PRIMARY KEY (`id_classifica`);

    --
    -- Indici per le tabelle `fattura`
    --
    ALTER TABLE `fattura`
    ADD PRIMARY KEY (`id_fattura`),
ADD KEY `fk_utente_fatture` (`fk_utente`);

    --
    -- Indici per le tabelle `immagine`
    --
    ALTER TABLE `immagine`
    ADD PRIMARY KEY (`id_immagine`),
ADD KEY `fk_oggetto_immagine` (`fk_oggetto`),
ADD KEY `fk_mystery_box_immagine` (`fk_mystery_box`);

    --
    -- Indici per le tabelle `indirizzo_spedizione`
    --
    ALTER TABLE `indirizzo_spedizione`
    ADD PRIMARY KEY (`id_indirizzo`),
ADD KEY `fk_utente_indirizzo_spedizione` (`fk_utente`);

    --
    -- Indici per le tabelle `info_ordine`
    --
    ALTER TABLE `info_ordine`
    ADD PRIMARY KEY (`fk_ordine`,`fk_box`),
ADD KEY `fk_box_info_ordine` (`fk_box`);

    --
    -- Indici per le tabelle `mystery_box`
    --
    ALTER TABLE `mystery_box`
    ADD PRIMARY KEY (`id_box`),
ADD KEY `fk_rarita_mystery_box` (`fk_rarita`),
ADD KEY `fk_categoria_oggetto_mystery_box` (`fk_categoria_oggetto`);

    --
    -- Indici per le tabelle `novita_box`
    --
    ALTER TABLE `novita_box`
    ADD PRIMARY KEY (`fk_box`);

    --
    -- Indici per le tabelle `oggetto`
    --
    ALTER TABLE `oggetto`
    ADD PRIMARY KEY (`id_oggetto`),
ADD KEY `fk_categoria_oggetto_oggetto` (`fk_categoria_oggetto`),
ADD KEY `fk_rarita_oggetto` (`fk_rarita`);

    --
    -- Indici per le tabelle `oggetto_collezione`
    --
    ALTER TABLE `oggetto_collezione`
    ADD PRIMARY KEY (`fk_oggetto`);

    --
    -- Indici per le tabelle `oggetto_utente`
    --
    ALTER TABLE `oggetto_utente`
    ADD PRIMARY KEY (`fk_utente`,`fk_oggetto`),
ADD KEY `fk_oggetto_oggetto_utente` (`fk_oggetto`);

    --
    -- Indici per le tabelle `ordine`
    --
    ALTER TABLE `ordine`
    ADD PRIMARY KEY (`id_ordine`),
ADD KEY `fk_utente_ordine` (`fk_utente`),
ADD KEY `fk_indirizzo_spedizione_ordine` (`fk_indirizzo`),
ADD KEY `fk_carrello_ordine` (`fk_carrello`);

    --
    -- Indici per le tabelle `ordine_log`
    --
    ALTER TABLE `ordine_log`
    ADD PRIMARY KEY (`id_log`),
ADD KEY `fk_ordine_log` (`fk_ordine`),
ADD KEY `fk_admin_log` (`modificato_da`);

    --
    -- Indici per le tabelle `punti_utente`
    --
    ALTER TABLE `punti_utente`
    ADD PRIMARY KEY (`id_punti`),
ADD KEY `fk_utente_punti_utente` (`fk_utente`);

    --
    -- Indici per le tabelle `rarita`
    --
    ALTER TABLE `rarita`
    ADD PRIMARY KEY (`id_rarita`);

    --
    -- Indici per le tabelle `scambio`
    --
    ALTER TABLE `scambio`
    ADD PRIMARY KEY (`id_scambio`),
ADD KEY `fk_utente_scambio` (`fk_utente`);

    --
    -- Indici per le tabelle `scambio_oggetto`
    --
    ALTER TABLE `scambio_oggetto`
    ADD PRIMARY KEY (`fk_scambio`,`fk_oggetto`),
ADD KEY `fk_oggetto_scambio_oggetto` (`fk_oggetto`);

    --
    -- Indici per le tabelle `titolo`
    --
    ALTER TABLE `titolo`
    ADD PRIMARY KEY (`id_titolo`);

    --
    -- Indici per le tabelle `titolo_utente`
    --
    ALTER TABLE `titolo_utente`
    ADD PRIMARY KEY (`fk_titolo`,`fk_utente`),
ADD KEY `fk_utente_titolo_utente` (`fk_utente`);

    --
    -- Indici per le tabelle `utente`
    --
    ALTER TABLE `utente`
    ADD PRIMARY KEY (`id_utente`);

    --
    -- AUTO_INCREMENT per le tabelle scaricate
    --

    --
    -- AUTO_INCREMENT per la tabella `admin`
    --
    ALTER TABLE `admin`
    MODIFY `id_admin` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

    --
    -- AUTO_INCREMENT per la tabella `carrello`
    --
    ALTER TABLE `carrello`
    MODIFY `id_carrello` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

    --
    -- AUTO_INCREMENT per la tabella `carrello_salvato`
    --
    ALTER TABLE `carrello_salvato`
    MODIFY `id_salvato` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `categoria_oggetto`
    --
    ALTER TABLE `categoria_oggetto`
    MODIFY `id_categoria` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

    --
    -- AUTO_INCREMENT per la tabella `classifica`
    --
    ALTER TABLE `classifica`
    MODIFY `id_classifica` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `fattura`
    --
    ALTER TABLE `fattura`
    MODIFY `id_fattura` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `immagine`
    --
    ALTER TABLE `immagine`
    MODIFY `id_immagine` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=67;

    --
    -- AUTO_INCREMENT per la tabella `indirizzo_spedizione`
    --
    ALTER TABLE `indirizzo_spedizione`
    MODIFY `id_indirizzo` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

    --
    -- AUTO_INCREMENT per la tabella `mystery_box`
    --
    ALTER TABLE `mystery_box`
    MODIFY `id_box` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

    --
    -- AUTO_INCREMENT per la tabella `oggetto`
    --
    ALTER TABLE `oggetto`
    MODIFY `id_oggetto` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=48;

    --
    -- AUTO_INCREMENT per la tabella `ordine`
    --
    ALTER TABLE `ordine`
    MODIFY `id_ordine` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

    --
    -- AUTO_INCREMENT per la tabella `ordine_log`
    --
    ALTER TABLE `ordine_log`
    MODIFY `id_log` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

    --
    -- AUTO_INCREMENT per la tabella `punti_utente`
    --
    ALTER TABLE `punti_utente`
    MODIFY `id_punti` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `rarita`
    --
    ALTER TABLE `rarita`
    MODIFY `id_rarita` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

    --
    -- AUTO_INCREMENT per la tabella `scambio`
    --
    ALTER TABLE `scambio`
    MODIFY `id_scambio` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `titolo`
    --
    ALTER TABLE `titolo`
    MODIFY `id_titolo` int NOT NULL AUTO_INCREMENT;

    --
    -- AUTO_INCREMENT per la tabella `utente`
    --
    ALTER TABLE `utente`
    MODIFY `id_utente` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

    --
    -- Limiti per le tabelle scaricate
    --

    --
    -- Limiti per la tabella `admin`
    --
    ALTER TABLE `admin`
    ADD CONSTRAINT `fk_creato_da_admin` FOREIGN KEY (`creato_da`) REFERENCES `utente` (`id_utente`) ON DELETE SET NULL ON UPDATE CASCADE,
ADD CONSTRAINT `fk_utente_admin` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `box_oggetto`
    --
    ALTER TABLE `box_oggetto`
    ADD CONSTRAINT `fk_mystery_box_box_oggetto` FOREIGN KEY (`fk_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_oggetto_box_oggetto` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `carrello`
    --
    ALTER TABLE `carrello`
    ADD CONSTRAINT `fk_mystery_box_carrello` FOREIGN KEY (`fk_mystery_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_oggetto_carrello` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_utente_carrello` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `carrello_salvato`
    --
    ALTER TABLE `carrello_salvato`
    ADD CONSTRAINT `fk_mystery_box_carrello_salvato` FOREIGN KEY (`fk_mystery_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE,
ADD CONSTRAINT `fk_oggetto_carrello_salvato` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE,
ADD CONSTRAINT `fk_utente_carrello_salvato` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE;

    --
    -- Limiti per la tabella `carrello_utente`
    --
    ALTER TABLE `carrello_utente`
    ADD CONSTRAINT `fk_carrello_carrello_box` FOREIGN KEY (`fk_carrello`) REFERENCES `carrello` (`id_carrello`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_mystery_box` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `fattura`
    --
    ALTER TABLE `fattura`
    ADD CONSTRAINT `fk_utente_fatture` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `immagine`
    --
    ALTER TABLE `immagine`
    ADD CONSTRAINT `fk_mystery_box_immagine` FOREIGN KEY (`fk_mystery_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_oggetto_immagine` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `indirizzo_spedizione`
    --
    ALTER TABLE `indirizzo_spedizione`
    ADD CONSTRAINT `fk_utente_indirizzo_spedizione` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `info_ordine`
    --
    ALTER TABLE `info_ordine`
    ADD CONSTRAINT `fk_box_info_ordine` FOREIGN KEY (`fk_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_ordine_info_ordine` FOREIGN KEY (`fk_ordine`) REFERENCES `ordine` (`id_ordine`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `mystery_box`
    --
    ALTER TABLE `mystery_box`
    ADD CONSTRAINT `fk_categoria_oggetto_mystery_box` FOREIGN KEY (`fk_categoria_oggetto`) REFERENCES `categoria_oggetto` (`id_categoria`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_rarita_mystery_box` FOREIGN KEY (`fk_rarita`) REFERENCES `rarita` (`id_rarita`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `novita_box`
    --
    ALTER TABLE `novita_box`
    ADD CONSTRAINT `fk_box_novita_box` FOREIGN KEY (`fk_box`) REFERENCES `mystery_box` (`id_box`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `oggetto`
    --
    ALTER TABLE `oggetto`
    ADD CONSTRAINT `fk_categoria_oggetto_oggetto` FOREIGN KEY (`fk_categoria_oggetto`) REFERENCES `categoria_oggetto` (`id_categoria`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_rarita_oggetto` FOREIGN KEY (`fk_rarita`) REFERENCES `rarita` (`id_rarita`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `oggetto_collezione`
    --
    ALTER TABLE `oggetto_collezione`
    ADD CONSTRAINT `fk_oggetto_oggetto_collezione` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `oggetto_utente`
    --
    ALTER TABLE `oggetto_utente`
    ADD CONSTRAINT `fk_oggetto_oggetto_utente` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_utente_oggetto_utente` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `ordine`
    --
    ALTER TABLE `ordine`
    ADD CONSTRAINT `fk_carrello_ordine` FOREIGN KEY (`fk_carrello`) REFERENCES `carrello` (`id_carrello`) ON DELETE SET NULL ON UPDATE CASCADE,
ADD CONSTRAINT `fk_indirizzo_spedizione_ordine` FOREIGN KEY (`fk_indirizzo`) REFERENCES `indirizzo_spedizione` (`id_indirizzo`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_utente_ordine` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `ordine_log`
    --
    ALTER TABLE `ordine_log`
    ADD CONSTRAINT `fk_admin_ordine_log` FOREIGN KEY (`modificato_da`) REFERENCES `admin` (`id_admin`) ON DELETE SET NULL,
ADD CONSTRAINT `fk_ordine_ordine_log` FOREIGN KEY (`fk_ordine`) REFERENCES `ordine` (`id_ordine`) ON DELETE CASCADE;

    --
    -- Limiti per la tabella `punti_utente`
    --
    ALTER TABLE `punti_utente`
    ADD CONSTRAINT `fk_utente_punti_utente` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `scambio`
    --
    ALTER TABLE `scambio`
    ADD CONSTRAINT `fk_utente_scambio` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`);

    --
    -- Limiti per la tabella `scambio_oggetto`
    --
    ALTER TABLE `scambio_oggetto`
    ADD CONSTRAINT `fk_oggetto_scambio_oggetto` FOREIGN KEY (`fk_oggetto`) REFERENCES `oggetto` (`id_oggetto`),
ADD CONSTRAINT `fk_scambio_scambio_oggetto` FOREIGN KEY (`fk_scambio`) REFERENCES `scambio` (`id_scambio`) ON DELETE CASCADE ON UPDATE CASCADE;

    --
    -- Limiti per la tabella `titolo_utente`
    --
    ALTER TABLE `titolo_utente`
    ADD CONSTRAINT `fk_titolo_titolo_utente` FOREIGN KEY (`fk_titolo`) REFERENCES `titolo` (`id_titolo`) ON DELETE CASCADE ON UPDATE CASCADE,
ADD CONSTRAINT `fk_utente_titolo_utente` FOREIGN KEY (`fk_utente`) REFERENCES `utente` (`id_utente`) ON DELETE CASCADE ON UPDATE CASCADE;

    COMMIT;

    /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
    /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
    /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

    -- ========================================
    -- RIEPILOGO DELLE MODIFICHE UNIFICATE
    -- ========================================

        /*
        PRINCIPALI DIFFERENZE UNIFICATE:

        1. STRUTTURA CARRELLO:
           - Aggiunto campo `data_ultima_modifica` con trigger automatico
           - Aggiunto campo `stato` con ENUM('attivo','checkout','completato','abbandonato')
           - Modificato `totale` da DECIMAL(10,0) a DECIMAL(10,2) per maggiore precisione

        2. NUOVE TABELLE AGGIUNTE:
           - `carrello_salvato`: per salvare articoli per dopo
           - `ordine_log`: per tracciare modifiche agli ordini con audit trail

        3. STORED PROCEDURES:
           - `pulisci_carrelli_abbandonati()`: per gestire carrelli non utilizzati
           - `report_vendite()`: per report di vendita con statistiche

        4. VISTE AGGIUNTE:
           - `vista_ordini_completi`: vista completa degli ordini con dati cliente
           - `vista_statistiche_dashboard`: statistiche per dashboard admin

        5. MIGLIORAMENTI DATI:
           - Unificati tutti gli oggetti (47 oggetti totali vs 3 nel DB2)
           - Unificati tutti i Funko Pop e accessori
           - Mantenute tutte le immagini e categorie
           - Unified rarità (6 livelli totali)
           - Aggiunti dati ordini dal DB2

        6. OTTIMIZZAZIONI:
           - Aggiunti indici compositi per performance
           - Trigger per audit automatico
           - Vincoli di integrità referenziale migliorati
           - Campo telefono aggiunto alla tabella utente

        7. PRECISIONE DECIMALI:
           - Tutti i prezzi e totali ora usano DECIMAL(10,2) per centesimi
           - Valore stimato in oggetto_collezione aggiornato a DECIMAL(10,2)

        COMPATIBILITÀ:
        - Mantenuta retrocompatibilità con applicazioni esistenti
        - Tutti i dati esistenti preservati
        - ID e strutture principali invariate
        */
    gap: 10px;
}

.rarity-filter-section {
    background-color: var(--light-gray);
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    text-align: center;
}

.rarity-filter-section .filter-title {
    font-size: 22px;
    color: var(--primary-dark);
    margin-bottom: 20px;
    font-weight: bold;
}

.rarity-filter-section .filter-buttons-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
}

.rarity-filter-section .btn-filter {
    border: 2px solid transparent;
    transition: border-color 0.3s ease;
}

.rarity-filter-section .btn-filter.active {
    font-weight: bold;
}

.rarity-filter-section .btn-filter[data-rarity="comune"].active {
    border-color: #A0A0A0;
}

.rarity-filter-section .btn-filter[data-rarity="rara"].active {
    border-color: #ADD8E6;
}

.rarity-filter-section .btn-filter[data-rarity="ultra-rara"].active {
    border-color: #FFD700;
}

.rarity-filter-section .btn-filter[data-rarity="segreta-rara"].active {
    border-color: #C0C0C0;
}

.card-category-section .category-title {
    font-size: 30px;
    color: var(--primary-dark);
    font-weight: bold;
    text-align: center;
    border-bottom: 2px solid var(--primary-orange);
    padding-bottom: 10px;
    margin-top: 40px;
}

.d-flex.justify-content-between {
    align-items: flex-start;
}

.filter-dropdown-container {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
    z-index: 1050;
}

.dropdown-toggle {
    background-color: #55585b;
    color: var(--white);
    border: none;
    font-size: 16px;
    font-weight: bold;
    padding: 10px 20px;
    border-radius: 5px;
    min-width: 200px;
    text-align: left;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.dropdown-toggle::after {
    margin-left: auto;
}

.dropdown-menu {
    border-radius: 5px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    min-width: 200px;
    z-index: 1050;
}

.dropdown-item {
    color: var(--primary-dark);
    font-size: 16px;
    padding: 10px 20px;
    transition: background-color 0.2s ease-in-out;
}

.dropdown-item:hover,
.dropdown-item.active {
    background-color: var(--primary-orange);
    color: var(--white);
}

.filter-container {
    padding: 1rem 0;
    margin-bottom: 2rem;
    border-bottom: 1px solid var(--border-gray);
    display: flex;
    justify-content: flex-end;
    align-items: center;
}

.accessory-section {
    scroll-margin-top: 100px;
}

/*=================================================================
  GRIGLIA E CARD
=================================================================*/
.card-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    margin-top: 30px;
}

.card-item {
    display: block;
    animation: fadeIn 0.5s ease-out;
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* CARD BOX (ottenute) */
.card-box {
    background-color: var(--white);
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    overflow: hidden;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    box-sizing: border-box;
}

.card-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.card-image-container {
    width: 100%;
    max-height: 200px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
}

.card-img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.card-info {
    flex-grow: 1;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.card-name {
    font-size: 18px;
    font-weight: bold;
    color: var(--primary-dark);
    margin-bottom: 8px;
    line-height: 1.3;
}

.card-description {
    font-size: 14px;
    color: #666666;
    margin: 0 0 10px 0;
    flex-grow: 1;
}

.card-number {
    font-size: 13px;
    color: #888;
    margin-top: 5px;
    font-weight: 500;
}

/* CARD BOX (non ottenute) */
.card-box.not-obtained {
    background-color: #f2f2f2;
    border: 1px dashed #ccc;
    color: #aaa;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 280px;
    border-color: #555 !important;
}

.card-box.not-obtained .card-empty {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    padding: 15px;
}

.card-box.not-obtained .card-empty i {
    font-size: 3em;
    color: #6c757d;
    margin-bottom: 10px;
}

.card-box.not-obtained .card-empty p {
    font-size: 18px;
    font-weight: bold;
    color: #999;
    margin: 0;
}

.card-box .card-img-top {
    width: 100%;
    height: auto;
    max-height: 200px;
    object-fit: contain;
    margin-bottom: 10px;
    border-radius: 5px;
}

.card-box.not-obtained .card-img-top.greyed-out {
    filter: grayscale(100%) brightness(50%);
    transition: filter 0.3s ease;
}

.card-box.not-obtained img.greyed-out {
    filter: grayscale(100%) brightness(50%);
    transition: filter 0.3s ease;
}

.card-box.not-obtained .card-empty .card-number,
.card-box.not-obtained .card-empty .card-value {
    color: #999;
}

/*=================================================================
  MYSTERY BOX E PRODOTTI
=================================================================*/
.mystery-box-item,
.funko-pop-item,
.accessori-item {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
    transform: translateY(0) !important;
    transition: transform 0.3s ease-in-out, opacity 0.6s ease-out;
}

.box-main {
    background-color: var(--white);
    height: 100%;
    padding: 25px;
    border: 1px solid #e0e0e0;
    box-shadow: 0px 4px 20px rgba(0,0,0,0.08);
    margin-bottom: 20px;
    border-radius: 10px;
    display: flex !important;
    flex-direction: column;
    justify-content: space-between;
    overflow: hidden;
    position: relative;
    opacity: 1 !important;
    visibility: visible !important;
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
}

.box-main:hover {
    transform: translateY(-8px);
    box-shadow: 0px 8px 30px rgba(0,0,0,0.15);
    border-color: var(--primary-orange);
}

.mystery-box-image-container {
    width: 100%;
    height: 200px;
    display: flex !important;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
    overflow: hidden;
    background-color: var(--light-gray);
    border-radius: 8px;
    position: relative;
    opacity: 1 !important;
}

.mystery-box-img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    transition: transform 0.3s ease-in-out;
    opacity: 1 !important;
    visibility: visible !important;
}

.box-main:hover .mystery-box-img {
    transform: scale(1.05);
}

.mystery-box-info {
    flex-grow: 1;
    opacity: 1 !important;
    visibility: visible !important;
}

.mystery-box-name {
    font-size: 22px;
    color: var(--primary-dark);
    text-align: center;
    font-weight: bold;
    margin-bottom: 10px;
    opacity: 1 !important;
    visibility: visible !important;
}

.mystery-box-description {
    font-size: 15px;
    color: #666666;
    text-align: center;
    line-height: 1.6;
    margin-bottom: 15px;
    min-height: 70px;
    opacity: 1 !important;
    visibility: visible !important;
}

.mystery-box-footer {
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.mystery-box-price {
    font-size: 20px;
    color: var(--primary-orange);
    font-weight: bold;
    margin: 0;
    opacity: 1 !important;
    visibility: visible !important;
}

.box-main.unavailable {
    opacity: 0.7 !important;
    filter: grayscale(80%);
    pointer-events: none;
    box-shadow: 0px 0 15px 5px #ddd;
}

.unavailable-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2;
}

.unavailable-overlay p {
    background-color: var(--primary-orange);
    color: var(--white);
    font-size: 24px;
    font-weight: bold;
    padding: 10px 20px;
    border-radius: 5px;
    transform: rotate(-10deg);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    margin: 0;
}

.badge {
    font-size: 14px;
    padding: 6px 12px;
    font-weight: bold;
    color: white;
}

.stock-warning {
    background-color: #fff3cd;
    color: #856404;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 14px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 15px;
    border: 1px solid #ffeaa7;
}

.stock-warning i {
    margin-right: 5px;
}

.item-link {
    text-decoration: none;
    color: inherit;
    display: block !important;
    height: 100%;
    opacity: 1 !important;
    visibility: visible !important;
}

.col-lg-4,
.col-md-6,
.col-sm-12 {
    padding: 15px;
    opacity: 1 !important;
    visibility: visible !important;
}

.mystery-box-item[style*="display: none"],
.funko-pop-item[style*="display: none"] {
    display: none !important;
}

.mystery-box-item:not([style*="display: none"]),
.funko-pop-item:not([style*="display: none"]) {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/*=================================================================
  ACCESSORI
=================================================================*/
.accessory-card {
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    background-color: var(--white);
}

.accessory-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.accessory-card .card-img-container {
    height: 200px;
    overflow: hidden;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.accessory-card .card-img-top {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 10px;
}

.accessory-card .card-body {
    padding: 1rem;
    text-align: center;
}

.accessory-card .card-title {
    font-size: 1.25rem;
    font-weight: bold;
    color: #333;
}

.accessory-card .card-price {
    font-size: 1.1rem;
    color: #555;
    font-weight: bold;
}

.accessory-card .card-footer {
    background-color: var(--light-gray);
    border-top: 1px solid var(--border-gray);
    padding: 0.75rem;
}

/*=================================================================
  CARRELLO
=================================================================*/
.cart-container {
    max-width: 1200px;
    margin: 0 auto;
}

.empty-cart-container {
    text-align: center;
    padding: 60px 20px;
    background: var(--white);
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.empty-cart-icon i {
    font-size: 120px;
    color: #ddd;
    margin-bottom: 30px;
}

.cart-items {
    background: linear-gradient(135deg, var(--white) 0%, var(--light-gray) 100%);
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    overflow: hidden;
}

.cart-item {
    display: flex;
    align-items: center;
    padding: 20px;
    border-bottom: 1px solid #eee;
    gap: 20px;
    transition: all 0.3s ease;
}

.cart-item:last-child {
    border-bottom: none;
}

.cart-item:hover {
    background: linear-gradient(135deg, #fafbfc 0%, var(--light-gray) 100%);
    transform: translateX(5px);
}

.cart-item-image {
    flex-shrink: 0;
    width: 80px;
    height: 80px;
}

.cart-item-image img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 8px;
}

.cart-item-details {
    flex: 1;
}

.cart-item-name {
    font-size: 18px;
    font-weight: bold;
    color: var(--primary-dark);
    margin-bottom: 5px;
}

.cart-item-type {
    margin-bottom: 8px;
}

.cart-item-type .badge {
    font-size: 12px;
    padding: 4px 8px;
}

.cart-item-price {
    font-size: 16px;
    color: var(--primary-pink) !important;
    font-weight: bold;
}

.cart-item-quantity {
    text-align: center;
}

.cart-item-quantity label {
    font-size: 14px;
    color: #666;
    margin-bottom: 5px;
    display: block;
}

.quantity-controls {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-top: 5px;
    justify-content: center;
}

.btn-quantity {
    width: 30px;
    height: 30px;
    border: 1px solid #ddd;
    background: var(--white);
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.btn-quantity:hover {
    background: var(--light-gray) !important;
    border-color: var(--primary-pink) !important;
}

.btn-quantity:active {
    transform: scale(0.95);
}

.quantity-input {
    width: 50px;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 5px;
}

.cart-item-total {
    font-size: 18px;
    font-weight: bold;
    color: #28a745;
    text-align: center;
    min-width: 80px;
}

.btn-remove {
    background: var(--danger) !important;
    color: var(--white);
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.btn-remove:hover {
    background: #c82333 !important;
    transform: scale(1.1);
}

.cart-summary {
    background: linear-gradient(135deg, var(--white) 0%, var(--light-gray) 100%);
    border: 1px solid var(--border-gray);
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    padding: 25px;
    position: sticky;
    top: 20px;
}

.cart-summary h4 {
    color: var(--primary-dark);
    font-weight: bold;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--light-gray);
}

.summary-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 16px;
    color: #555;
}

.summary-item:last-of-type {
    margin-bottom: 15px;
}

.summary-total {
    display: flex;
    justify-content: space-between;
    font-size: 20px;
    font-weight: bold;
    color: var(--primary-dark);
}

.summary-total span:last-child {
    color: var(--primary-pink) !important;
}

.summary-note {
    background: #e3f2fd;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
    color: #1976d2;
    margin: 10px 0;
}

.login-required {
    background: #fff3cd;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
}

/*=================================================================
  PAGAMENTO
=================================================================*/
.step-indicator {
    position: relative;
}

.step {
    text-align: center;
    position: relative;
    flex: 1;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--border-gray);
    color: var(--medium-gray);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-bottom: 5px;
}

.step.active .step-number {
    background-color: #007bff;
    color: var(--white);
}

.step-label {
    font-size: 0.875rem;
    color: var(--medium-gray);
}

.step.active .step-label {
    color: #007bff;
    font-weight: 600;
}

.step:not(:last-child)::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 50%;
    width: 100%;
    height: 2px;
    background-color: var(--border-gray);
    z-index: -1;
}

.step.active:not(:last-child)::after {
    background-color: #007bff;
}

.payment-options .form-check-label {
    font-size: 1.1rem;
    padding-left: 10px;
}

#creditCardForm input {
    font-family: 'Courier New', monospace;
}

/*=================================================================
  ORDINI
=================================================================*/
.orders-list {
    display: flex;
    flex-direction: column;
    gap: 30px;
    max-width: 900px;
    margin: 0 auto;
}

.order-card {
    background-color: var(--white);
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    padding: 20px;
    align-items: center;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.order-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.order-image-container {
    flex-shrink: 0;
    width: 150px;
    height: 150px;
    overflow: hidden;
    border-radius: 8px;
    margin-right: 25px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid #eee;
}

.order-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    display: block;
}

.order-details {
    flex-grow: 1;
}

.order-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.order-details h3 {
    font-size: 24px;
    color: var(--primary-dark);
    margin: 0;
    padding: 0;
}

.order-status {
    padding: 5px 15px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: bold;
    text-transform: uppercase;
    color: var(--white);
}

.order-status.completato {
    background-color: var(--success);
}

.order-status.in-elaborazione {
    background-color: var(--warning);
    color: #333;
}

.order-status.annullato {
    background-color: var(--danger);
}

.order-details p {
    margin: 8px 0;
    font-size: 16px;
    color: #555;
    line-height: 1.5;
}

.order-details p strong {
    color: var(--primary-dark);
}

.order-total {
    font-size: 18px;
    font-weight: bold;
    color: var(--primary-orange);
    margin-top: 15px;
}

/* MODAL DETTAGLI ORDINE */
.order-details-container {
    font-family: inherit;
}

.order-info-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.info-item:last-child {
    border-bottom: none;
}

.info-item strong {
    color: var(--primary-dark);
    min-width: 180px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.info-item span {
    text-align: right;
    flex: 1;
}

.total-item {
    background-color: var(--light-gray);
    margin: 10px -15px -10px -15px;
    padding: 15px;
    border-radius: 8px;
    border: none !important;
}

#orderDetailsModal.show {
    display: block !important;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 1050;
}

#orderDetailsModal .modal-dialog {
    position: relative;
    margin: 50px auto;
    max-width: 800px;
    background: var(--white);
    border-radius: 8px;
    padding: 20px;
}

/*=================================================================
  SLIDER
=================================================================*/
.slideshow-container {
    width: 100%;
    height: 0;
    padding-bottom: 33.33%;
    position: relative;
    overflow: hidden;
    margin: 0;
}

.mySlides {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    opacity: 0;
    transition: opacity 1s ease;
}

.mySlides.active {
    display: block;
    opacity: 1;
}

.mySlides img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.prev, .next {
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 50px;
    height: 50px;
    padding: 16px;
    color: var(--white);
    font-weight: bold;
    font-size: 24px;
    transition: 0.3s ease;
    background-color: rgba(0,0,0,0.5);
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
}

.prev {
    left: 20px;
}

.next {
    right: 20px;
}

.prev:hover, .next:hover {
    background-color: rgba(0,0,0,0.8);
}

.text {
    color: #f2f2f2;
    font-size: clamp(14px, 2vw, 20px);
    padding: 10px 15px;
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0,0,0,0.7);
    border-radius: 5px;
    max-width: 90%;
    text-align: center;
}

.numbertext {
    color: #f2f2f2;
    font-size: clamp(12px, 1.5vw, 16px);
    padding: 8px 12px;
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: rgba(0,0,0,0.5);
    border-radius: 5px;
}

.dots-container {
    position: absolute;
    bottom: 3%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
}

.dot {
    cursor: pointer;
    height: clamp(10px, 1.5vw, 15px);
    width: clamp(10px, 1.5vw, 15px);
    margin: 0 5px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    transition: background-color 0.3s ease;
}

.dot.active, .dot:hover {
    background-color: #717171;
    transform: scale(1.2);
}

/*=================================================================
  ICONE NAVBAR
=================================================================*/
.yugioh-card-icon {
    display: inline-block;
    width: 25px;
    height: 35px;
    background-color: #d1b672;
    border: 2px solid #5a5a5a;
    border-radius: 3px;
    position: relative;
    overflow: hidden;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
    transform: rotate(-5deg);
    transition: transform 0.2s ease-in-out;
    margin-right: 8px;
    vertical-align: middle;
}

.nav-link:hover .yugioh-card-icon {
    transform: rotate(0deg) scale(1.1);
}

.yugioh-card-icon .yugioh-card-element {
    display: block;
    width: 60%;
    height: 30%;
    background-color: #1a1a1a;
    position: absolute;
    top: 20%;
    left: 20%;
    border-radius: 2px;
    box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.5);
}

.yugioh-card-icon::before {
    content: '★';
    position: absolute;
    top: 2px;
    right: 2px;
    color: gold;
    font-size: 10px;
    line-height: 1;
}

.yugioh-card-icon::after {
    content: '';
    position: absolute;
    bottom: 2px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 2px;
    background-color: #a33;
}

.yugioh-icon-container {
    margin-bottom: 5px;
}

.pokeball {
    width: 40px;
    height: 40px;
    background-color: var(--white);
    border: 2px solid black;
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    display: inline-block;
    transition: transform 0.2s ease-in-out;
}

.pokeball:hover {
    transform: scale(1.1);
}

.pokeball-top {
    height: 50%;
    background-color: red;
    border-bottom: 2px solid black;
}

.pokeball-middle {
    height: 2px;
    background-color: black;
    position: absolute;
    width: 100%;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    justify-content: center;
    align-items: center;
}

.pokeball-button {
    width: 12px;
    height: 12px;
    background-color: var(--white);
    border: 2px solid black;
    border-radius: 50%;
    position: relative;
}

.pokeball-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 6px;
    height: 6px;
    background-color: black;
    border-radius: 50%;
}

.pokeball-bottom {
    height: 50%;
    background-color: var(--white);
}

.nav-item .pokeball-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    text-decoration: none;
    color: var(--white);
    padding: 0;
}

.pokeball-link span {
    margin-top: 5px;
    font-size: 14px;
}

/*=================================================================
  SEARCH E FORM
=================================================================*/
.has-search .form-control {
    padding-left: 2.375rem;
}

.has-search .form-control-feedback {
    position: absolute;
    z-index: 2;
    display: block;
    width: 2.375rem;
    height: 2.375rem;
    line-height: 2.375rem;
    text-align: center;
    pointer-events: none;
    color: #aaa;
}

.input_bt {
    width: 60%;
    margin: 0 auto;
    text-align: center;
    display: flex;
    border-bottom: 1px solid var(--white) !important;
}

.mail_bt {
    width: 100%;
    float: left;
    font-size: 18px;
    color: var(--white);
    background-color: transparent;
    padding: 5px 0px 5px 0px;
    height: 60px;
    border: 0px;
}

input.mail_bt::placeholder {
    color: var(--white);
}

/*=================================================================
  LOADER E SPINNER
=================================================================*/
.loader_main {
    width: 100%;
    text-align: center;
    margin-top: 140px;
}

.loader {
    border-radius: 50%;
    border-right-color: var(--primary-orange);
    border-left-color: var(--primary-orange);
    width: 120px;
    height: 120px;
    -webkit-animation: spin 2s linear infinite;
    animation: spin 6s linear infinite;
    margin: 0 auto;
}

@-webkit-keyframes spin {
    0% {
        -webkit-transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(360deg);
    }
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.spinner-border {
    color: var(--white);
    border-width: 0.2em;
    display: inline-block;
    width: 2rem;
    height: 2rem;
    vertical-align: text-bottom;
    border: 0.25em solid currentColor;
    border-right-color: transparent;
    border-radius: 50%;
    animation: spinner-border .75s linear infinite;
}

.spinner-border-sm {
    width: 1rem;
    height: 1rem;
    border-width: 0.15em;
}

@keyframes spinner-border {
    to { transform: rotate(360deg); }
}

/*=================================================================
  FLOATING ALERT
=================================================================*/
@keyframes floatUpFade {
    0% {
        opacity: 1;
        transform: translate(-50%, 0);
    }
    50% {
        opacity: 1;
        transform: translate(-50%, -30px);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -100px);
    }
}

.floating-alert {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #d4edda;
    color: #155724;
    padding: 12px 24px;
    border: 1px solid #c3e6cb;
    border-radius: 4px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    animation: floatUpFade 3s ease-out forwards;
    pointer-events: none;
    font-size: 1rem;
    z-index: 1000;
}

/*=================================================================
  SESSIONE
=================================================================*/
#session-warning {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.session-warning-content {
    background-color: var(--white);
    padding: 2rem;
    border-radius: 8px;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.session-warning-content p {
    margin-bottom: 1.5rem;
    color: var(--primary-dark);
    font-size: 1.1rem;
}

.session-warning-content button {
    padding: 0.5rem 1rem;
    margin: 0 0.5rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

#extend-session {
    background-color: var(--primary-pink);
    color: var(--white);
}

#logout-now {
    background-color: #f2f2f2;
    color: var(--primary-dark);
}

/*=================================================================
  FOOTER
=================================================================*/
.footer_logo {
    width: 100%;
    text-align: center;
}

.footer_menu {
    width: 100%;
    margin: 0 auto;
    text-align: center;
}

.footer_menu ul {
    margin: 0px;
    padding: 0px;
    display: inline-block;
}

.footer_menu li {
    float: left;
    font-size: 16px;
    color: #f1f1f1;
    padding: 20px 10px 0px 10px;
}

.footer_menu li a {
    color: #f1f1f1;
}

.footer_menu li a:hover {
    color: var(--primary-orange);
}

.location_main {
    width: 100%;
    margin: 0 auto;
    padding-top: 30px;
    text-align: center;
    float: left;
    font-size: 16px;
    color: var(--white);
    padding: 30px 30px 30px 30px;
}

.location_main a {
    color: var(--white);
}

.location_main a:hover {
    color: var(--primary-orange);
}

/*=================================================================
  FONTS
=================================================================*/
.bebas-neue-regular {
    font-family: "Bebas Neue", sans-serif;
    font-weight: 400;
    font-style: normal;
}

@font-face {
    font-family: 'Bebas Neue';
    src: url('/fonts/BebasNeue-Regular.ttf') format('ttf'),
    url('/fonts/BebasNeue-Regular.ttf') format('ttf');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

/*=================================================================
  ANIMAZIONI GLOBALI
=================================================================*/
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.pulse {
    animation: pulse 2s infinite;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in-up {
    animation: fadeInUp 0.6s ease-out;
}

@keyframes shake {
    0%, 100% {
        transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
        transform: translateX(-5px);
    }
    20%, 40%, 60%, 80% {
        transform: translateX(5px);
    }
}

.shake {
    animation: shake 0.6s ease-in-out;
}

@keyframes pulse-error {
    0% {
        box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.4);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(220, 53, 69, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(220, 53, 69, 0);
    }
}

/*=================================================================
  UTILITIES
=================================================================*/
.text-primary {
    color: var(--primary-pink) !important;
}

.text-secondary {
    color: var(--primary-blue) !important;
}

.text-accent {
    color: var(--primary-orange) !important;
}

.bg-primary {
    background-color: var(--primary-pink) !important;
}

.bg-secondary {
    background-color: var(--primary-blue) !important;
}

.bg-accent {
    background-color: var(--primary-orange) !important;
}

.border-primary {
    border-color: var(--primary-pink) !important;
}

.border-secondary {
    border-color: var(--primary-blue) !important;
}

.mb-5 { margin-bottom: 3rem !important; }
.mb-4 { margin-bottom: 1.5rem !important; }
.mb-3 { margin-bottom: 1rem !important; }
.mb-2 { margin-bottom: 0.5rem !important; }
.mt-3 { margin-top: 1rem !important; }
.ms-3 { margin-left: 1rem !important; }
.d-flex { display: flex !important; }
.justify-content-end { justify-content: flex-end !important; }
.justify-content-between { justify-content: space-between !important; }
.align-items-center { align-items: center !important; }
.w-auto { width: auto !important; }

/*=================================================================
  RESPONSIVE
=================================================================*/
@media (max-width: 992px) {
    .fashion_taital {
        font-size: 38px;
    }
    .category-title {
        font-size: 26px;
    }
    .col-lg-4, .col-md-6 {
        flex: 0 0 50%;
        max-width: 50%;
    }
    .order-card {
        flex-direction: column;
        text-align: center;
    }
    .order-image-container {
        margin-right: 0;
        margin-bottom: 20px;
    }
    .order-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    .order-header h3 {
        margin-bottom: 10px;
    }
}

@media (max-width: 768px) {
    .d-flex.justify-content-between {
        flex-direction: column;
        align-items: center;
    }
    .category-title {
        margin-bottom: 1rem;
    }
    .filter-dropdown-container {
        align-items: center;
        width: 100%;
    }
    .dropdown-toggle, .dropdown-menu {
        width: 100%;
        min-width: auto;
    }
    .fashion_taital {
        font-size: 32px;
    }
    .category-title {
        font-size: 22px;
    }
    .col-lg-4, .col-md-6, .col-sm-12 {
        flex: 0 0 100%;
        max-width: 100%;
    }
    .mystery-box-item, .funko-pop-item, .accessori-item {
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
    }
    .alert-custom {
        padding: 12px 16px;
        font-size: 13px;
        margin-bottom: 15px;
    }
    .alert-custom i {
        font-size: 18px;
        margin-right: 10px;
    }
    .login-container,
    .register-container {
        margin: 15px;
        padding: 25px 20px;
        border-radius: 15px;
    }
    .captcha-container {
        flex-direction: column;
        gap: 10px;
        text-align: center;
        padding: 12px;
    }
    .captcha-question {
        min-width: auto;
        font-size: 18px;
    }
    .captcha-input {
        max-width: 80px;
    }
    .input-feedback {
        font-size: 12px;
    }
    .security-indicator {
        padding: 10px 12px;
        font-size: 13px;
    }
    .password-toggle {
        font-size: 14px;
        right: 10px;
    }
    .cart-item {
        flex-direction: column;
        text-align: center;
        gap: 15px;
        padding: 15px;
    }
    .cart-item-image {
        width: 60px;
        height: 60px;
    }
    .cart-summary {
        margin-top: 30px;
        position: relative;
    }
    .info-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    .info-item strong {
        min-width: auto;
    }
    .info-item span {
        text-align: left;
    }
    #orderDetailsModal .modal-dialog {
        margin: 20px;
        max-width: none;
    }
}

@media (max-width: 480px) {
    .login-container,
    .register-container {
        margin: 10px;
        padding: 20px 15px;
    }
    .form-control {
        font-size: 16px; /* Previene zoom su iOS */
        padding: 10px 14px;
    }
    .alert-custom {
        padding: 12px 15px;
        font-size: 13px;
    }
}

/*=================================================================
  ACCESSIBILITÀ
=================================================================*/
@media (prefers-reduced-motion: reduce) {
    .shake {
        animation: none;
    }
    .form-control.invalid {
        animation: none;
    }
    .alert-custom.show {
        animation: none;
    }
    * {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
    }
}

@media (prefers-contrast: more) {
    .captcha-container {
        border-width: 3px;
    }
    .form-control:focus {
        border-width: 3px;
    }
    .security-indicator {
        border-width: 2px;
    }
}

/*=================================================================
  DARK MODE SUPPORT
=================================================================*/


.login-container,
.register-container {
    background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
    border-color: #404040;
}

.form-control {
    background-color: #2d2d2d;
    border-color: #404040;
    color: #e0e0e0;
}

.alert-custom-danger {
    background: linear-gradient(135deg, #2d1b1b 0%, #381a1a 100%);
    color: #ff6b6b;
}

.alert-custom-success {
    background: linear-gradient(135deg, #1b2d1b 0%, #1a381a 100%);
    color: #51cf66;
}

.alert-custom-warning {
    background: linear-gradient(135deg, #2d2b1b 0%, #38351a 100%);
    color: #ffd43b;
}

.alert-custom-info {
    background: linear-gradient(135deg, #1b252d 0%, #1a2938 100%);
    color: #339af0;
}

.captcha-container {
    background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%);
    border-color: #404040;
}

.captcha-question {
    background: #2d2d2d;
    border-color: #404040;
    color: #e0e0e0;
}

.security-indicator {
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.2) 0%, rgba(40, 167, 69, 0.1) 100%);
    border-color: rgba(40, 167, 69, 0.4);
    color: #a3e635;
}

.loading-overlay {
    background: linear-gradient(135deg, rgba(45, 45, 45, 0.95) 0%, rgba(26, 26, 26, 0.95) 100%);
}

.input-feedback.success {
    color: #a3e635;
}

.input-feedback.error {
    color: #f87171;
}

.input-feedback.warning {
    color: #fbbf24;
}

/*=================================================================
  CORREZIONE ALERT HEADER - Aggiungi alla fine del tuo CSS
  Questo impedisce agli alert di aumentare le dimensioni dell'header
=================================================================*/

/* ALERT SUCCESS (come "Benvenuto") - Sempre posizionati fixed */
.alert-custom-success {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    z-index: 9999 !important;
    max-width: 350px !important;
    min-width: 280px !important;
    margin: 0 !important;
    margin-bottom: 0 !important;
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3) !important;
    animation: slideInFromRight 0.5s ease-out !important;
}

/* ALERT NEL CONTAINER PRINCIPALE - Non occupano spazio */
main .container .alert-custom:first-child,
.background-custom > .container .alert-custom:first-child {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    z-index: 9999 !important;
    max-width: 350px !important;
    margin: 0 !important;
    margin-bottom: 0 !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2) !important;
}

/* ALERT DI LOGIN/REGISTER - Mantieni relativi ma senza margini eccessivi */
.login-container .alert-custom,
.register-container .alert-custom {
    position: relative !important;
    margin-bottom: 15px !important;
    margin-top: 0 !important;
}

/* ANIMAZIONE ENTRATA DA DESTRA */
@keyframes slideInFromRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* AUTO-RIMOZIONE ALERT SUCCESS */
.alert-custom-success {
    animation: slideInFromRight 0.5s ease-out,
    fadeOutAfterDelay 4s ease-in-out 3s forwards !important;
}

@keyframes fadeOutAfterDelay {
    0% { opacity: 1; transform: translateX(0); }
    100% { opacity: 0; transform: translateX(100%); }
}

/* RESPONSIVE - Mobile */
@media (max-width: 768px) {
    .alert-custom-success,
    main .container .alert-custom:first-child,
    .background-custom > .container .alert-custom:first-child {
        position: fixed !important;
        top: 10px !important;
        left: 10px !important;
        right: 10px !important;
        max-width: calc(100vw - 20px) !important;
        min-width: auto !important;
    }
}

/* OVERRIDE GENERALE - Nessun alert deve aumentare l'header */
.alert-custom {
    margin-top: 0 !important;
}

/* Se l'alert è il primo elemento di una pagina, deve essere fixed */
body > main > .alert-custom:first-child,
main > .alert-custom:first-child {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    z-index: 9999 !important;
    margin: 0 !important;
}